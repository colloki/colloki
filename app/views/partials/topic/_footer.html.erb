<script>
  $(document).ready(function(e) {
    // todo: make this more efficient
    <% for story in stories %>
      <%= render :partial => "partials/like_btn/js", :locals => {:story => story} %>
      <%= render :partial => "partials/comment_btn/js", :locals => {:story => story} %>
    <% end %>

    <% if defined? stories_with_photos and stories_with_photos %>
      <% for story in stories_with_photos %>
        <% if !stories.include?(story) %>
          <%= render :partial => "partials/like_btn/js", :locals => {:story => story} %>
          <%= render :partial => "partials/comment_btn/js", :locals => {:story => story} %>
        <% end %>
      <% end %>
    <% end %>
  });

  <%= render :partial => "partials/vts_reader_js" %>
</script>

<!-- todo: make this more efficient -->
<% for story in stories %>
  <%= render :partial => "partials/comment_btn/modal", :locals => {:story => story} %>
<% end %>

<% if defined? stories_with_photos and stories_with_photos %>
  <% for story in stories_with_photos %>
    <% if !stories.include?(story) %>
      <%= render :partial => "partials/comment_btn/modal", :locals => {:story => story} %>
    <% end %>
  <% end %>
<% end %>