<% if topic and topic.stories.count != 0 %>
  <% if ((defined? story) and story and story.topic_id == topic.id) ||
    ((defined? selected) and selected) %>
    <li class="active">
  <% else %>
    <li>
  <% end %>
  <% keyword_content = render :partial => 'topics/text_keywords',
      :locals => {:topic => topic} %>
  <%= link_to "[ " << topic.title << " ]",
    topical_path(topic),
    :class => "has-popover topic",
    "data-placement" => "left",
    "data-id" => topic.id,
    "data-content" => keyword_content,
    :title => "[ " + topic.title + " ]" %>
  </li>
<% end %>
