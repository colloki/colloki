<div class="well">
  <% render :partial => "topics/type" %>

  <!-- Topic keywords -->
  <% if topic and topic.topic_keywords %>
    <div class="filter">
      <h4>
        [ <%= topic.title %> ]
      </h4>
      <%= render :partial => "topics/cloud", :locals => { :id => 10, :topic => topic } %>
    </div>
    <hr>
  <% end %>

  <!-- Search -->
  <div class="filter-search">
    <input type="text" class="search-query" name="query" placeholder="Search" tabIndex="1">
    <br><br>
  </div>

  <!-- Filter by Topic -->
  <div class="filter-topic">
    <h4>This Week's Topics</h4>
    <%= render :partial => "topics/navigation",
      :locals => {
        :topics => @today_topics,
        :story => @story,
        :selected_topic => (defined? @topic) ? @topic : nil
      }
    %>
  </div>

  <!-- Sort by Popularity or Date -->
  <div class="filter-sort">
    <h4>Sort</h4>
    <%= render :partial => "topics/sort" %>
  </div>

  <!-- Filter by Date -->
  <div class="filter-date">
    <h4>Date</h4>
    <ul class="nav nav-stacked nav-pills">
      <li>
        <a href="#" class="date-range" data-value="2">Today</a>
      </li>
      <li class="active">
        <a href="#" class="date-range" data-value="4">This Week</a>
      </li>
      <li>
        <a href="#" class="date-range" data-value="1">All</a>
      </li>
    </ul>
  </div>

  <!-- Filter by source -->
  <div class="filter-source">
    <h4>Sources</h4>
    <%= render :partial => "topics/source_filter" %>
    <hr>
  </div>

  <%= render :partial => 'partials/footer' %>
</div>
